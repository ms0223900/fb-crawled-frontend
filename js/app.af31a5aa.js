(function(e){function t(t){for(var a,o,s=t[0],i=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==c[i]&&(a=!1)}a&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},r=[];function o(e){return s.p+"js/"+({about:"about"}[e]||e)+"."+{about:"28450915"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((function(t,a){n=c[e]=[t,a]}));t.push(n[2]=a);var r,i=document.createElement("script");i.charset="utf-8",i.timeout=120,s.nc&&i.setAttribute("nonce",s.nc),i.src=o(e);var l=new Error;r=function(t){i.onerror=i.onload=null,clearTimeout(u);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+r+")",l.name="ChunkLoadError",l.type=a,l.request=r,n[1](l)}c[e]=void 0}};var u=setTimeout((function(){r({type:"timeout",target:i})}),12e4);i.onerror=i.onload=r,document.head.appendChild(i)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/fb-crawled-frontend/",s.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var b=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},2239:function(e,t,n){"use strict";n("4c6b")},"23c4":function(e,t,n){},"2a3f":function(e,t,n){"use strict";n("43aa")},"3e4b":function(e,t,n){"use strict";n("6f87")},"43aa":function(e,t,n){},"4c6b":function(e,t,n){},"6f87":function(e,t,n){},"70dc":function(e,t,n){"use strict";n("7d28")},"7d28":function(e,t,n){},"86d8":function(e,t,n){},b5b2:function(e,t,n){"use strict";n("23c4")},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function c(e,t){var n=Object(a["x"])("router-view");return Object(a["p"])(),Object(a["d"])(n)}n("70dc");const r={};r.render=c;var o=r,s=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),i={class:"postpage-wrapper"},l=Object(a["g"])("h1",null,"Fb爬文列表",-1),u={key:1},b={class:"checkbox-wrapper"},d=Object(a["g"])("hr",null,null,-1);function p(e,t,n,c,r,o){var s=Object(a["x"])("EmptyMessage"),p=Object(a["x"])("Checkbox"),O=Object(a["x"])("PostList");return Object(a["p"])(),Object(a["d"])("div",i,[l,e.postPageState.state.loading?(Object(a["p"])(),Object(a["d"])(s,{key:0,message:"Loading..."})):Object(a["e"])("",!0),e.postPageState.state.queriedPosts?(Object(a["p"])(),Object(a["d"])("div",u,[Object(a["g"])("p",null,Object(a["z"])("資料更新時間: ".concat(e.postPageState.createdAt)),1),Object(a["g"])("div",b,[Object(a["g"])(p,{labelName:"過濾今天貼文",modelValue:e.postPageState.isFilteringTodayToggle,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.postPageState.isFilteringTodayToggle=t})},null,8,["modelValue"]),Object(a["g"])(p,{labelName:"過濾貼文內有連結",modelValue:e.postPageState.isFilteringHaveLinksToggle,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.postPageState.isFilteringHaveLinksToggle=t})},null,8,["modelValue"])]),d,Object(a["g"])("div",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.postPageState.allFetchedFeeds,(function(e,t){return Object(a["p"])(),Object(a["d"])(O,{key:t,postListData:e},null,8,["postListData"])})),128))])])):Object(a["e"])("",!0)])}var O=n("d4ec"),f=n("bee2"),j=n("262e"),g=n("2caf"),v=n("9ab4"),h=n("ce1f"),m=n("5530"),y=n("1da1"),P=(n("96cf"),n("d81d"),n("2591")),k=Object({NODE_ENV:"production",BASE_URL:"/fb-crawled-frontend/"}).FIREBASE_API_KEY,w={apiKey:k,authDomain:"fb-crawled.firebaseapp.com",databaseURL:"https://fb-crawled-default-rtdb.firebaseio.com",storageBucket:"fb-crawled.appspot.com"};P["a"].initializeApp(w);var x=P["a"].database(),S=x.ref(),_=function(){try{return S.child("crawled-data").get().then((function(e){if(e.exists()){var t=e.val();return console.log(e.val()),t}console.log("No data available")}))}catch(e){return}},L=_,F=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(a["v"])(e);return{toggle:t}},D=F,T=n("2909"),E=(n("4de4"),{filterByConditions:function(e,t){var n=Object(T["a"])(e);return t.isFilteringHaveLinks&&(n=n.filter((function(e){return e.metaOptions.haveLinks}))),t.isFilteringToday&&(n=n.filter((function(e){return e.metaOptions.isToday}))),n}}),C=E,z=function(){var e=D(!0),t=e.toggle,n=D(!0),c=n.toggle,r=Object(a["u"])({loading:!1,queriedPosts:void 0}),o=function(){var e=Object(y["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r.loading=!0,e.next=3,L();case 3:t=e.sent,n=t?Object(m["a"])(Object(m["a"])({},t),{},{allFetchedFeeds:t.allFetchedFeeds.map((function(e){return Object(m["a"])(Object(m["a"])({},e),{},{posts:e.allExtractedStories})}))}):void 0,console.log(n),r.queriedPosts=n,r.loading=!1;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=Object(a["b"])((function(){return r.queriedPosts?new Date(r.queriedPosts.creationTime).toLocaleString():""})),i=Object(a["b"])((function(){return r.queriedPosts?r.queriedPosts.allFetchedFeeds.map((function(e){return Object(m["a"])(Object(m["a"])({},e),{},{posts:C.filterByConditions(e.allExtractedStories,{isFilteringToday:t.value,isFilteringHaveLinks:c.value})})})):[]}));return console.log(i),{state:r,createdAt:s,allFetchedFeeds:i,isFilteringTodayToggle:t,isFilteringHaveLinksToggle:c,handleQueryPosts:o}},q=z,M=Object(a["C"])("data-v-bb381c88");Object(a["t"])("data-v-bb381c88");var V={key:0,class:"post-list-wrapper"},A={key:1,class:"item-wrapper"};Object(a["q"])();var N=M((function(e,t,n,c,r,o){var s=Object(a["x"])("EmptyMessage"),i=Object(a["x"])("PostItem");return e.shouldShowPosts?(Object(a["p"])(),Object(a["d"])("div",V,[Object(a["g"])("h2",null,Object(a["z"])(e.postListData.profileName),1),e.shouldShowPosts?(Object(a["p"])(),Object(a["d"])("div",A,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.postListData.posts,(function(e,t){return Object(a["p"])(),Object(a["d"])(i,{key:t,singlePostData:e},null,8,["singlePostData"])})),128))])):(Object(a["p"])(),Object(a["d"])(s,{key:0,message:"無符合條件貼文"}))])):Object(a["e"])("",!0)})),I=(n("9911"),n("b0c0"),Object(a["C"])("data-v-4c34aa7a"));Object(a["t"])("data-v-4c34aa7a");var B={class:"post-item-wrapper col-4"},H={class:"post-item"},R={key:0},U=Object(a["g"])("hr",null,null,-1),J={class:"story-message-wrapper"},K=Object(a["g"])("hr",null,null,-1);Object(a["q"])();var Q=I((function(e,t,n,c,r,o){return Object(a["p"])(),Object(a["d"])("div",B,[Object(a["g"])("div",H,[Object(a["g"])("div",null,[Object(a["g"])("p",null,Object(a["z"])(e.singlePostData.creationTime.timeLocaleStr),1)]),Object(a["g"])("div",null,[Object(a["g"])("a",{href:e.singlePostData.postLink.link,target:"_blank"},Object(a["z"])(e.singlePostData.postLink.name),9,["href"])]),e.singlePostData.links.links?(Object(a["p"])(),Object(a["d"])("div",R,[Object(a["g"])("h3",null,Object(a["z"])(e.singlePostData.links.name),1),Object(a["g"])("div",null,[Object(a["g"])("div",null,[(Object(a["p"])(!0),Object(a["d"])(a["a"],null,Object(a["w"])(e.singlePostData.links.links,(function(e,t){return Object(a["p"])(),Object(a["d"])("a",{key:t,href:e,target:"_blank"},Object(a["z"])(e),9,["href"])})),128))])])])):Object(a["e"])("",!0),U,Object(a["g"])("div",J,[Object(a["g"])("p",null,Object(a["z"])(e.singlePostData.storyMessageText.text),1)]),K,Object(a["g"])("div",null,[Object(a["g"])("p",null,Object(a["z"])(e.feedbackText),1)])])])})),$=(n("99af"),n("5c40")),Y=function(e){Object(j["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(O["a"])(this,n),e=t.apply(this,arguments),e.feedbackText=Object($["d"])((function(){var t=e.singlePostData.feedback,n=t.reactionCount,a=t.shareCount;return"按讚數: ".concat(n,", 分享數: ").concat(a)})),e}return n}(h["b"]);Y=Object(v["__decorate"])([Object(h["a"])({props:{singlePostData:Object}})],Y);var G=Y;n("3e4b");G.render=Q,G.__scopeId="data-v-4c34aa7a";var W=G,X=Object(a["C"])("data-v-e0355b48"),Z=X((function(e,t,n,c,r,o){return Object(a["p"])(),Object(a["d"])("div",null,[Object(a["g"])("h2",null,Object(a["z"])(n.message||"Empty"),1)])})),ee={name:"EmptyMessage",props:{message:String}};n("b5b2");ee.render=Z,ee.__scopeId="data-v-e0355b48";var te=ee,ne=function(e){Object(j["a"])(n,e);var t=Object(g["a"])(n);function n(){return Object(O["a"])(this,n),t.apply(this,arguments)}return Object(f["a"])(n,[{key:"shouldShowPosts",get:function(){return this.postListData.posts.length>0}},{key:"created",value:function(){this.$watch("postListData",(function(e,t){console.log(e)}))}}]),n}(h["b"]);ne=Object(v["__decorate"])([Object(h["a"])({name:"PostList",props:{postListData:{profileName:String,posts:Array}},components:{PostItem:W,EmptyMessage:te}})],ne);var ae=ne;n("2a3f");ae.render=N,ae.__scopeId="data-v-bb381c88";var ce=ae,re=Object(a["C"])("data-v-84ab385c"),oe=re((function(e,t,n,c,r,o){return Object(a["p"])(),Object(a["d"])("label",null,[Object(a["g"])("input",{type:"checkbox",checked:n.modelValue,onChange:t[1]||(t[1]=function(t){return e.$emit("update:modelValue",t.target.checked)})},null,40,["checked"]),Object(a["f"])(" "+Object(a["z"])(n.labelName),1)])})),se={name:"Checkbox",props:{modelValue:Boolean,labelName:String},emits:["on-change-checkbox"]};n("2239");se.render=oe,se.__scopeId="data-v-84ab385c";var ie=se,le=function(e){Object(j["a"])(n,e);var t=Object(g["a"])(n);function n(){var e;return Object(O["a"])(this,n),e=t.apply(this,arguments),e.postPageState=Object(h["c"])((function(){return q()})),e}return Object(f["a"])(n,[{key:"created",value:function(){this.postPageState.handleQueryPosts()}}]),n}(h["b"]);le=Object(v["__decorate"])([Object(h["a"])({name:"PostPage",components:{PostList:ce,Checkbox:ie,EmptyMessage:te}})],le);var ue=le;n("cda4");ue.render=p;var be=ue,de=(n("dfb1"),[{path:"/",name:"Home",component:be},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]),pe=Object(s["a"])({history:Object(s["b"])("/fb-crawled-frontend/"),routes:de}),Oe=pe,fe=n("5502"),je=Object(fe["a"])({state:{},mutations:{},actions:{},modules:{}});Object(a["c"])(o).use(je).use(Oe).mount("#app")},cda4:function(e,t,n){"use strict";n("86d8")},dfb1:function(e,t,n){}});
//# sourceMappingURL=app.af31a5aa.js.map